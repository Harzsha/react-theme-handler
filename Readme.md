# 🌗 react-theme-handler

[![npm version](https://img.shields.io/npm/v/react-theme-handler.svg?style=flat)](https://www.npmjs.com/package/react-theme-handler)
[![bundle size](https://img.shields.io/bundlephobia/minzip/react-theme-handler)](https://bundlephobia.com/package/react-theme-handler)
[![license](https://img.shields.io/npm/l/react-theme-handler)](https://github.com/Harzsha/react-theme-handler/blob/main/LICENSE)
[![CI Status](https://github.com/yourusername/react-theme-handler/actions/workflows/ci.yml/badge.svg)](https://github.com/Harzsha/react-theme-handler/actions)

A lightweight, performant theme switcher for React applications with system preference detection and CSS variables support.

![Demo Animation](https://raw.githubusercontent.com/yourusername/react-theme-handler/main/docs/demo.gif)

## ✨ Features

- 🌓 **Three theme modes**: Light, Dark, and System preference
- 🎨 **CSS Variables based**: Bring your own theme definitions
- ⚡ **Optimized**: Zero dependencies, ~2KB gzipped
- 💾 **Persistent**: Automatically saves user preference
- 📱 **Responsive**: Syncs with system color scheme changes
- ⚛️ **React 18+ Ready**: Works with all modern React versions
- 🏷 **TypeScript Support**: Full type definitions included
- 🖥 **SSR Compatible**: Works with Next.js, Remix, etc.

## 📦 Installation

```bash
# npm
npm install react-theme-handler

# yarn
yarn add react-theme-handler

# pnpm
pnpm add react-theme-handler
```

## 🎨 Theme Configuration

```css
/* include in global css  or  your root css file */
:root[data-theme="light"] {
  --bg: #ffffff;
  --text: #333333;
  --primary: #2563eb;
  --primary-hover: #1d4ed8;
  --border: #e2e8f0;
  --card-bg: #f8fafc;
  --error: #dc2626;
}

:root[data-theme="dark"] {
  --bg: #1a1a1a;
  --text: #f8f8f8;
  --primary: #3b82f6;
  --primary-hover: #2563eb;
  --border: #2d3748;
  --card-bg: #1e293b;
  --error: #ef4444;
}
```



### Advanced Setup (Next.js)

```tsx
//_ThemeProviderWrapper.tsx
"use client"; // Mark as Client Component

import { ThemeProvider } from "react-theme-handler";
import { useEffect, useState } from "react";

export default function ThemeProviderWrapper({
  children,
}: {
  children: React.ReactNode;
}) {
  // Prevent SSR mismatch by showing nothing until mounted
  const [mounted, setMounted] = useState(false);

  useEffect(() => {
    setMounted(true);
  }, []);

  if (!mounted) {
    return null;
  }

  return (
    <ThemeProvider
      defaultTheme="system"
      storageKey="next-app-theme"
    >
      {children}
    </ThemeProvider>
  );
}
```

```tsx
//_layout.tsx or ur root tsx file
import type { Metadata } from "next";
import { Geist, Geist_Mono } from "next/font/google";
import "./globals.css";
import ThemeProviderWrapper from "@/components/ThemeProviderWrapper";

const geistSans = Geist({
  variable: "--font-geist-sans",
  subsets: ["latin"],
});

const geistMono = Geist_Mono({
  variable: "--font-geist-mono",
  subsets: ["latin"],
});

export const metadata: Metadata = {
  title: "Foo-Boo",
  description: "Generated by Harsha",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <body className={`${geistSans.variable} ${geistMono.variable} antialiased`} >
        <ThemeProviderWrapper>{children}</ThemeProviderWrapper>     
       </body>
    </html>
  );

}

```


## 🎮 Using the Hook

```tsx
"use client";

import { useTheme } from "react-theme-handler";

export default function ThemeSwitcher() {
  const { theme, setTheme } = useTheme();

  return (
    <div className="flex gap-2">
      <button 
        onClick={() => setTheme("light")}
        className={`px-3 py-1 rounded ${theme === "light" ? "bg-blue-500 text-white" : "bg-gray-200"}`}
      >
        Light
      </button>
      <button
        onClick={() => setTheme("dark")}
        className={`px-3 py-1 rounded ${theme === "dark" ? "bg-blue-500 text-white" : "bg-gray-800 text-white"}`}
      >
        Dark
      </button>
      <button
        onClick={() => setTheme("system")}
        className="px-3 py-1 bg-gray-500 text-white rounded"
      >
        System
      </button>
    </div>
  );
}
```

## 🛠 API Reference

| Prop         | Type                | Default   | Description                                                                 |
|--------------|---------------------|-----------|-----------------------------------------------------------------------------|
| defaultTheme | 'light'\|'dark'\|'system' | 'light'   | Default theme if no preference exists                                      |
| storageKey   | string              | 'theme'   | localStorage key                                                           |
| ssr          | boolean             | false     | Enable SSR support                                                         |

## 🤝 Contributing
1. Fork the repository.  
2. Create a branch (`git checkout -b feature/your-feature`).  
3. Commit changes (`git commit -am 'Add feature'`).  
4. Push (`git push origin feature/your-feature`).  
5. Open a PR.

## 📜 License
MIT © [Harzsha](https://github.com/Harzsha)